-- Simplified startup animation for ComputerCraft
local monitor = peripheral.find("monitor") -- Use a standard monitor peripheral
if not monitor then
  monitor = term -- Fall back to terminal if no monitor is connected
end

-- Configure monitor settings
monitor.clear()
local width, height = monitor.getSize()

-- Colors
local WHITE = colors.white
local BLUE = colors.blue
local BLACK = colors.black

-- Helper function to draw filled rectangle
local function filledRectangle(x, y, width, height, color)
    monitor.setBackgroundColor(color)
    for yPos = y, y + height - 1 do
        monitor.setCursorPos(x, yPos)
        monitor.write(string.rep(" ", width))
    end
    monitor.setBackgroundColor(colors.black) -- Reset color
end

-- Main screen initialization function
local function screenInitialization()
    monitor.clear()
    
    -- Scale the coordinates from the original example to fit monitor dimensions
    local scaleX = width / 384
    local scaleY = height / 320
    
    -- Draw the interface elements
    filledRectangle(1, math.floor(32 * scaleY), math.floor(384 * scaleX), math.floor(4 * scaleY), WHITE)
    filledRectangle(math.floor(184 * scaleX), math.floor(34 * scaleY), math.floor(16 * scaleX), math.floor(2 * scaleY), BLUE)
    filledRectangle(math.floor(188 * scaleX), math.floor(32 * scaleY), math.floor(8 * scaleX), math.floor(2 * scaleY), BLUE)
    filledRectangle(math.floor(40 * scaleX), math.floor(256 * scaleY), math.floor(252 * scaleX), math.floor(4 * scaleY), WHITE)
    filledRectangle(math.floor(288 * scaleX), math.floor(32 * scaleY), math.floor(4 * scaleX), math.floor(288 * scaleY), WHITE)
    filledRectangle(1, math.floor(316 * scaleY), math.floor(384 * scaleX), math.floor(4 * scaleY), WHITE)
    filledRectangle(math.floor(44 * scaleX), math.floor(256 * scaleY), math.floor(44 * scaleX), math.floor(4 * scaleY), WHITE)
    filledRectangle(1, math.floor(284 * scaleY), math.floor(42 * scaleX), math.floor(4 * scaleY), WHITE)
    filledRectangle(math.floor(40 * scaleX), math.floor(32 * scaleY), math.floor(4 * scaleX), math.floor(256 * scaleY), WHITE)
    filledRectangle(math.floor(41 * scaleX), math.floor(160 * scaleY), math.floor(3 * scaleX), math.floor(15 * scaleY), BLUE)
    filledRectangle(math.floor(40 * scaleX), math.floor(165 * scaleY), math.floor(1 * scaleX), math.floor(5 * scaleY), BLUE)
    
    filledRectangle(math.floor(40 * scaleX), math.floor(288 * scaleY), math.floor(4 * scaleX), math.floor(32 * scaleY), WHITE)
    filledRectangle(math.floor(118 * scaleX), math.floor(256 * scaleY), math.floor(4 * scaleX), math.floor(64 * scaleY), WHITE)
    filledRectangle(math.floor(210 * scaleX), math.floor(256 * scaleY), math.floor(4 * scaleX), math.floor(64 * scaleY), WHITE)
end

-- Initialize screen and run the animation sequence
print("Starting animation sequence...")

-- Initial animation sequence
screenInitialization()
sleep(0.5)

-- Add some animation effects
for i = 1, 3 do
    monitor.clear()
    sleep(0.2)
    screenInitialization()
    sleep(0.3)
end

print("Startup animation complete")
